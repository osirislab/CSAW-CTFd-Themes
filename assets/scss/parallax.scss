@use "sass:color";
@use "includes/utils/csaw-theme";

$fog-color: #003e45;
$fog-height: 21;

$orange-fireworks-x: 10vw;
$orange-fireworks-y: -60vh;

.city-color {
  width: 100%;
  height: 100%;
  filter: hue-rotate(305deg);
}

.firework-container {
  width: 100vw;
  height: 20em;
  z-index: -6;
  position: absolute;
  bottom: 0em;
  overflow: visible;

  background: linear-gradient(
    0deg,
    $fog-color 0%,
    var(--bs-body-bg) var(--fog-height),
    var(--bs-body-bg) 100%
  );

  --fog-height: #{$fog-height}vw;

  @media (max-width: 768px) {
    --fog-height: #{$fog-height * 2}vw;
  }
}

.parallax-container {
  width: 100vw;
  height: 20em;
  z-index: -5;
  position: absolute;
  bottom: 0em;
  overflow: hidden;
}

.parallax {
  background-repeat: repeat-x;
  background-position: bottom;
  background-size: 25% auto;

  width: 200%;
  height: 100%;
  position: absolute;
  bottom: 0em;

  animation-name: slide;
  animation-timing-function: linear;
  animation-iteration-count: infinite;

  // Scale up size for mobile devices / portrait screens
  @media (max-width: 768px) {
    width: 400%;
  }
}

$img-dir: "/themes/csaw23-theme/static/img";

.rocket-motion {
  position: absolute;
  bottom: 0px;
  animation: rocket-motion linear infinite 5s;
}


.orange-rocket {
  width: 7px;
  height: 51px;
  background-image: url("#{$img-dir}/fireworks/Rocket_Orange-sheet.png");
  animation: rocket steps(40) infinite 5s;
}

.firework-pos {
  position: absolute;
  bottom: 0px;
  animation: firework infinite 5s;
  animation-timing-function: steps(2, jump-none);
  animation-delay: 2.5s;
}

.orange-firework {
  width: 92px;
  height: 94px;
  background-image: url("#{$img-dir}/fireworks/Explosion_Long_Orange-sheet.png");
  animation: orange-firework steps(57) infinite 2.5s;
}

.city-5 {
  background-image: url("#{$img-dir}/city-pixel/5.png");
  z-index: 5;
  animation-duration: 10s;
  filter: brightness(110%);
}

.city-4 {
  background-image: url("#{$img-dir}/city-pixel/4.png");
  z-index: 4;
  animation-duration: 12s;
  filter: brightness(120%);
}

.city-3 {
  background-image: url("#{$img-dir}/city-pixel/3.png");
  z-index: 3;
  animation-duration: 14s;
  filter: brightness(75%);
}

.city-2 {
  background-image: url("#{$img-dir}/2.png");
  z-index: 2;
  animation-duration: 20s;
  filter: brightness(50%);
}

@keyframes slide {
  from {
    transform: translateX(-50%);
  }

  to {
    transform: translateX(0%);
  }
}

@keyframes rocket-motion {
  from {
    transform: translate(0%, 0vh) rotate(0deg);
  }

  to {
    transform: translate($orange-fireworks-x, $orange-fireworks-y) rotate(15deg);
  }
}

@keyframes rocket {
  from {
    background-position-x: 0px;
  }

  to {
    background-position-x: 280px;
  }
}

@keyframes orange-firework {
  from {
    background-position-x: 5700%;
  }

  to {
    background-position-x: 0px;
  }
}

@keyframes firework {
  0% {
    transform: translate(-100vw, -100vh);
  }

  100% {
    transform: translate(calc($orange-fireworks-x - 40px), calc($orange-fireworks-y + 20px));
  }
}
